// swapdogs.js - A JavaScript "Watch Dogs"-like text animation library
// Author: Abraham Tugalov <priler96@gmail.com>
// Version: v1.0.0
// Url: https://github.com/Priler/swapdogs.js
// License(s): MIT
!function(){"use strict";!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.raf=e()}}(function(){return function e(n,t,o){function r(a,s){if(!t[a]){if(!n[a]){var f="function"==typeof require&&require;if(!s&&f)return f(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=t[a]={exports:{}};n[a][0].call(l.exports,function(e){var t=n[a][1][e];return r(t||e)},l,l.exports,e,n,t,o)}return t[a].exports}for(var i="function"==typeof require&&require,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(e,n,t){function o(){}var r=n.exports={};r.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,n="undefined"!=typeof window&&window.MutationObserver,t="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var o=[];if(n){var r=document.createElement("div");return new MutationObserver(function(){var e=o.slice();o.length=0,e.forEach(function(e){e()})}).observe(r,{attributes:!0}),function(e){o.length||r.setAttribute("yes","no"),o.push(e)}}return t?(window.addEventListener("message",function(e){var n=e.source;(n===window||null===n)&&"process-tick"===e.data&&(e.stopPropagation(),o.length>0)&&o.shift()()},!0),function(e){o.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),r.title="browser",r.browser=!0,r.env={},r.argv=[],r.on=o,r.addListener=o,r.once=o,r.off=o,r.removeListener=o,r.removeAllListeners=o,r.emit=o,r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")}},{}],2:[function(e,n,t){(function(t){for(var o=e("performance-now"),r="undefined"==typeof window?t:window,i=["moz","webkit"],a="AnimationFrame",s=r["request"+a],f=r["cancel"+a]||r["cancelRequest"+a],u=0;!s&&u<i.length;u++)s=r[i[u]+"Request"+a],f=r[i[u]+"Cancel"+a]||r[i[u]+"CancelRequest"+a];if(!s||!f){var l=0,c=0,d=[];s=function(e){if(0===d.length){var n=o(),t=Math.max(0,1e3/60-(n-l));l=t+n,setTimeout(function(){var e=d.slice(0);d.length=0;for(var n=0;n<e.length;n++)if(!e[n].cancelled)try{e[n].callback(l)}catch(e){setTimeout(function(){throw e},0)}},Math.round(t))}return d.push({handle:++c,callback:e,cancelled:!1}),c},f=function(e){for(var n=0;n<d.length;n++)d[n].handle===e&&(d[n].cancelled=!0)}}n.exports=function(e){return s.call(r,e)},n.exports.cancel=function(){f.apply(r,arguments)},n.exports.polyfill=function(){r.requestAnimationFrame=s,r.cancelAnimationFrame=f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"performance-now":3}],3:[function(e,n,t){(function(e){(function(){var t,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?n.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(n.exports=function(){return(t()-r)/1e6},o=e.hrtime,t=function(){var e;return 1e9*(e=o())[0]+e[1]},r=t()):Date.now?(n.exports=function(){return Date.now()-r},r=Date.now()):(n.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,e("_process"))},{_process:1}]},{},[2])(2)}),window.SwapDogs=function(e,n){this.el=e,this.extend(this.options,n),this.options.autoInit&&this.start()},SwapDogs.prototype.el=null,SwapDogs.prototype.options={autoInit:!1,words:[],alphabet:"abcdefghijklmnopqrstuvwxyz",interval:4e3,interval2:40},SwapDogs.prototype.extend=function(e){e=e||{};for(var n=1;n<arguments.length;n++)if(arguments[n])for(var t in arguments[n])arguments[n].hasOwnProperty(t)&&(e[t]=arguments[n][t]);return e},SwapDogs.prototype.getRandStr=function(e,n){var t,o="",r=n.length;for(t=0;t<e;t+=1)o+=n[Math.round(Math.random()*(r-1))];return o},SwapDogs.prototype.replaceAt=function(e,n,t){return e.substr(0,n)+t+e.substr(n+t.length)},SwapDogs.prototype.nextElementSibling=function(e){do{e=e.nextSibling}while(e&&1!==e.nodeType);return e},SwapDogs.prototype.changeWord=function(e,n,t,o,r,i){var a,s=[],f=e.nextElementSibling||this.nextElementSibling(e),u=this;null===f&&(f=e.cloneNode(),e.parentNode.insertBefore(f,e.nextElementSibling||this.nextElementSibling(e)),f.classList.add("js-swap-dogs-clone"),f.style.position="absolute",f.style.left="-9999px"),n=n.split(""),f.innerHTML=o,e.style.width=f.offsetWidth+"px",r?a=setInterval(function(){var r,i=u.getRandStr(o.length,n);if(t-Math.random()>0){for(r=Math.round(Math.random()*(o.length-1));-1!==s.indexOf(r);)r=Math.round(Math.random()*(o.length-1));s.push(r)}for(var f=0;f<s.length;f++)i=u.replaceAt(i,s[f],o[s[f]]);e.textContent=i,s.length===o.length&&clearInterval(a)},i):e.innerHTML=o},SwapDogs.prototype.wordsChanger=function(e,n,t,o,r){function i(u){raf(i),u-s<o||(s=u,a>=n.length&&(a=0),f.changeWord(e,t,.5,n[a],!0,r),a++)}var a=1,s=0;if(null!==e){var f=this;this.changeWord(e,t,0,n[0],!1,r),raf(i)}},SwapDogs.prototype.start=function(){this.wordsChanger(this.el,this.options.words,this.options.alphabet,this.options.interval,this.options.interval2)}}();